<html>
<head>
    <title>RPG</title>
    <script src=https://code.jquery.com/jquery-3.6.0.min.js></script>
    <link href="/css/my.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>
<body>
<h1>RPG admin panel</h1>
<h2>Accounts List:</h2>

<table id='table01'>
    <tr>
        <th>#</th>
        <th>Name</th>
        <th>Title</th>
        <th>Race</th>
        <th>Profession</th>
        <th>Level</th>
        <th>Birthday</th>
        <th>Banned</th>
    </tr>
</table>

<script>
    const url = '/rest/players'
    $.get(url, function (data) {
        let table = $('#table01')
        $.each(data, function (i, item) {
            let row = $('<tr></tr>')
            let names = ['id', 'name', 'title', 'race', 'profession',
                'level', 'birthday', 'banned'];
            $.each(names, function (j, name) {
                if (item.hasOwnProperty(name)) {
                    let cell = $('<td></td>')
                    if (name === 'birthday') {
                        cell.text(new Date(item[name]).toLocaleDateString())
                    } else {
                        cell.text(item[name])
                    }
                    // cell.css('border', '1px solid black');
                    row.append(cell)
                }
            })
            table.append(row)
        })
    })

    // .fail(function() {
    //     console.error('Error: Request failed');
    // });
</script>

</body>
</html>